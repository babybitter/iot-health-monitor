<!-- æ™ºèƒ½è¾“æ¶²ç›‘æ§é¡µé¢ -->
<!-- è‡ªå®šä¹‰å¯¼èˆªæ  -->
<view class="custom-navbar" style="height: {{navHeight}}px; padding-top: {{statusBarHeight}}px;">
  <view class="nav-title">æ™ºèƒ½è¾“æ¶²ç›‘æ§</view>
</view>

<view class="container" style="padding-top: {{navHeight}}px;">
  <!-- è¾“æ¶²ç“¶å®æ—¶ç›‘æ§æ¨¡å— -->
  <view class="section">
    <view class="section-title">å®æ—¶ç›‘æ§</view>

    <!-- å·¦å³å¸ƒå±€å®¹å™¨ -->
    <view class="infusion-monitor-container">
      <!-- å·¦ä¾§ï¼šè¾“æ¶²ç“¶åŠ¨ç”»åŒºåŸŸ -->
      <view class="infusion-bottle-section">
        <view class="infusion-bottle-container" style="width: 239rpx; display: flex; box-sizing: border-box; left: 0rpx; top: 0rpx">
          <!-- è¾“æ¶²ç“¶ä¸»ä½“ -->
          <view class="infusion-bottle">
            <!-- ç“¶å£ -->
            <view class="bottle-neck"></view>

            <!-- ç“¶èº« -->
            <view class="bottle-body">
              <!-- æ¶²ä½“å®¹å™¨ -->
              <view class="liquid-container" style="height: {{liquidHeight}}%;">
                <!-- æ¶²ä½“ä¸»ä½“ -->
                <view class="liquid-body"></view>

                <!-- æ¶²ä½“è¡¨é¢æ³¢æµª -->
                <view class="liquid-surface">
                  <view class="wave wave1"></view>
                  <view class="wave wave2"></view>
                  <view class="wave wave3"></view>
                  <!-- é¢å¤–çš„æ³¢æµªæ•ˆæœ -->
                  <view class="wave-ripple wave-ripple1"></view>
                  <view class="wave-ripple wave-ripple2"></view>
                  <!-- æ˜æ˜¾çš„æ³¢æµªçº¿æ¡ -->
                  <view class="wave-line wave-line1"></view>
                  <view class="wave-line wave-line2"></view>
                  <view class="wave-line wave-line3"></view>
                  <!-- è¶…æ˜æ˜¾çš„æ³¢æµªæ¡çº¹ -->
                  <view class="mega-wave mega-wave1"></view>
                  <view class="mega-wave mega-wave2"></view>
                  <view class="mega-wave mega-wave3"></view>
                  <!-- é—ªçƒæ³¢æµªæŒ‡ç¤ºå™¨ -->
                  <view class="wave-indicator"></view>
                </view>

                <!-- æ¶²ä½“é«˜å…‰æ•ˆæœ -->
                <view class="liquid-highlight"></view>
              </view>

              <!-- ç“¶èº«é«˜å…‰åå°„ -->
              <view class="bottle-highlight"></view>

              <!-- ç“¶èº«é˜´å½± -->
              <view class="bottle-shadow"></view>
            </view>

            <!-- ç“¶åº• -->
            <view class="bottle-bottom"></view>
          </view>

          <!-- è¾“æ¶²ç®¡ -->
          <view class="infusion-tube">
            <view class="tube-line"></view>
            <view class="tube-drip">
              <view class="drip drip1"></view>
              <view class="drip drip2"></view>
              <view class="drip drip3"></view>
            </view>
          </view>
        </view>
      </view>

      <!-- å³ä¾§ï¼šç›‘æµ‹æ•°æ®åŒºåŸŸ -->
      <view class="monitor-data-section">
        <view class="monitor-data-container" style="width: 315rpx; display: flex; box-sizing: border-box; left: 0rpx; top: 0rpx">
          <view class="data-left">
            <view class="data-item">
              <view class="data-label">åˆå§‹é‡é‡</view>
              <view class="data-value">{{weightBegin || '--'}}g</view>
            </view>

            <view class="data-item">
              <view class="data-label">å½“å‰é‡é‡</view>
              <view class="data-value">{{weightRemaining || '--'}}g</view>
            </view>

            <view class="data-item">
              <view class="data-label">å‰©ä½™ç™¾åˆ†æ¯”</view>
              <view class="data-value">{{remainingPercentage || '0'}}%</view>
            </view>

            <view class="data-item">
              <view class="data-label">è­¦å‘Šé˜ˆå€¼</view>
              <view class="data-value">{{weightWarningThreshold || '0'}}g</view>
            </view>
          </view>
        </view>
      </view>
    </view>

    <!-- èœ‚é¸£å™¨è­¦å‘ŠæŒ‰é’® -->
    <view class="warning-button-container">
      <button class="warning-button" bindtap="sendWeightDrive">è§¦å‘èœ‚é¸£å™¨è­¦å‘Š</button>
    </view>
  </view>

  <!-- è¾“æ¶²é€Ÿåº¦ç›‘æµ‹æ¨¡å— -->
  <view class="section">
    <view class="section-title">è¾“æ¶²é€Ÿåº¦ç›‘æµ‹</view>
    
    <!-- é€Ÿåº¦æ˜¾ç¤ºå¡ç‰‡ -->
    <view class="speed-monitor-card" style="width: 291rpx; height: 299rpx; display: block; box-sizing: border-box; left: 0rpx; top: 0rpx">
      <view class="speed-display">
        <view class="speed-icon">ğŸ’§</view>
        <view class="speed-value">{{infusionSpeed || '--'}}</view>
        <view class="speed-unit">æ»´/åˆ†é’Ÿ</view>
      </view>
      
      <view class="speed-status">
        <view class="status-label">çŠ¶æ€:</view>
        <view class="status-value {{speedStatus}}">{{speedStatusText}}</view>
      </view>
      
      <view class="speed-desc">å®æ—¶ç›‘æµ‹è¾“æ¶²æ»´é€Ÿ</view>
    </view>
  </view>
</view>
